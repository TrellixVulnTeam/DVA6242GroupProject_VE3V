<!DOCTYPE html>
<html>
<head>
  <title>Simple Map</title>
  <meta name="viewport" content="initial-scale=1.0">
  <meta charset="utf-8">
  <style>
    /* Always set the map height explicitly to define the size of the div
     * element that contains the map. */
    #map {
      height: 80%;
      width: 50%;
      margin-top:100px;
      margin-right:10px;
    }
    /* Optional: Makes the sample page fill the window. */
    html, body {
      height: 100%;
      width: : 100%;
      padding: 0;
    }

    #markers_info .marker {
      height: 40px;
      width: 50px;
      margin-left:1000px;
      margin-right:10px;
      cursor: pointer;*/*/
    }

  </style>
</head>
<body>

<div id="map">
    <script>
      var markers = [];
      var coords = [];
      var infowindows = [];
      var strings=['1','2'];
      var addresses = ['201 W 120th St APT 6D, New York, NY 10027', '525 Broadway, New York, NY 10012'];

      var map;
 
      function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
          center: {lat: 40.723040, lng: -73.999180},
          zoom: 10
        });


        var styles = {
            default: null,
            hide: [
              {
                featureType: 'poi',
                stylers: [{visibility: 'off'}]
              },
              {
                featureType: 'transit',
                elementType: 'labels.icon',
                stylers: [{visibility: 'off'}]
              }
            ]
        };

        map.setOptions({styles: styles['hide']});

        var geocoder = new google.maps.Geocoder();
        for (i = 0; i < addresses.length; i++) { 
          geocodeAddress(geocoder, addresses[i]);
        }
        console.log(coords);
        console.log(coords[0]);


        for (i = 0; i < coords.length; i++) { 
          addMarker(coords[i], map, strings[i])         
        }
    }

    function geocodeAddress(geocoder, address) {
      geocoder.geocode({'address': address}, function(results, status) {
        if (status === 'OK') {
          // console.log(results);
          var latlng = {}
          latlng['lat'] = results[0].geometry.location.lat();
          latlng['lng'] = results[0].geometry.location.lng();
        } else {
          alert('Geocode was not successful for the following reason: ' + status);
        }
      console.log(latlng);  
      coords.push(latlng); 
    })};


    function normalIcon() {
      return 'marker_house_green.png'
    }

    function highlightedIcon() {
      return 'marker_house_pink.png'
    }

    function addMarker(location, map, string) {
     if(infowindow)
     infowindow.close();
     var infowindow = new google.maps.InfoWindow({content: string});

      var marker = new google.maps.Marker({
        position: location,
        map: map,
        icon: normalIcon()         
      });
   
      google.maps.event.addListener(map, "click", function(event) {
          infowindow.close();
          marker.setIcon(normalIcon());
      });

      marker.addListener('click', function () {
          for (var j = 0; j < markers.length; j++) {
            markers[j].setIcon(normalIcon());
            infowindows[j].close(map, markers[j])
          }
          marker.setIcon(highlightedIcon());
          infowindow.open(map, marker);
      })

      infowindows.push(infowindow)
      markers.push(marker);
    }
  </script>
</div>

<div id='markers_info'>
  <script>
     function myfunction() {
        console.log('image clicked')
     }
     function highlightedList() {
        document.getElementById('img1').style.height = "400px";
     }
     function normalList() {
     }

  </script>
  <div class="marker">  
    <img src='image1.jpeg' width="50" height="50" name='img1' 
      onmouseover="markers[0].setIcon(highlightedIcon());" 
      onmouseout="markers[0].setIcon(normalIcon());" />
  </div>
  <div class="marker">
    <img src="image2.jpeg" width="50" height='50' name='img2' 
      onmouseover="markers[1].setIcon(highlightedIcon());" 
      onmouseout="markers[1].setIcon(normalIcon());" />
  </div>

  <div class="marker">
    <img src="image3.jpeg" width="50" height='50' name='img3' 
      onmouseover="markers[2].setIcon(highlightedIcon());" 
      onmouseout="markers[2].setIcon(normalIcon());" />
  </div>
</div>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAwrdvLk2XruYEsLwqpYwiqnaKbSwhHiiM&callback=initMap"
    async defer></script>
  </body>
</html>
